generator client {
  provider   = "prisma-client-js"
  engineType = "binary"
}

datasource db {
  provider = "sqlite"
}

model About {
  id              Int          @id @default(1)
  name            String
  title           String
  subtitle        String
  bio             String
  quote           String
  yearsExperience Int
  avatar          String
  email           String
  phone           String
  location        String
  github          String
  linkedin        String
  twitter         String
  siteName        String
  socials         SocialLink[]
}

model SocialLink {
  id       String @id @default(cuid())
  platform String
  href     String
  aboutId  Int
  about    About  @relation(fields: [aboutId], references: [id], onDelete: Cascade)
}

model Skill {
  id       String  @id @default(cuid())
  name     String
  level    Int
  category String
  color    String
  icon     String?
  visible  Boolean @default(true)
}

model Project {
  id          String   @id @default(cuid())
  title       String
  description String
  image       String
  tags        String   // Comma separated
  techs       String   // Comma separated
  github      String
  demo        String
  visible     Boolean  @default(true)
  featured    Boolean  @default(false)
  status      String   @default("published")
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Experience {
  id          String  @id @default(cuid())
  period      String
  location    String
  title       String
  company     String
  icon        String
  current     Boolean @default(false)
  description String  // Stringified JSON array
  techs       String  // Comma separated
  visible     Boolean @default(true)
}

model ContactMessage {
  id        String   @id @default(cuid())
  name      String
  email     String
  subject   String
  message   String
  read      Boolean  @default(false)
  createdAt DateTime @default(now())
}

model GitHubRepo {
  id               Int     @id
  name             String
  full_name        String
  description      String?
  html_url         String
  homepage         String?
  language         String?
  stargazers_count Int
  forks_count      Int
  topics           String  // Comma separated
  created_at       String
  updated_at       String
  visible          Boolean @default(false)
  featured         Boolean @default(false)
}

model Stats {
  id    Int @id @default(1)
  views Int @default(0)
}

model CV {
  id         Int      @id @default(1)
  fileName   String
  fileUrl    String
  uploadedAt DateTime @default(now())
  fileSize   String
}
